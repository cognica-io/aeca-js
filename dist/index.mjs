import*as F from"@grpc/grpc-js";var G=class G{constructor(n,t,a=!1){this._address=`${n}:${t}`,this._useSSL=a,this._useSSL?this._credential=F.credentials.createSsl():this._credential=F.credentials.createInsecure()}get address(){return this._address}get credential(){return this._credential}get options(){return G._OPTIONS}};G._OPTIONS={"grpc.max_concurrent_streams":4,"grpc.max_send_message_length":-1,"grpc.max_receive_message_length":-1,"grpc.http2.max_frame_size":10*1024*1024};var je=G;import{tableFromIPC as wt}from"apache-arrow";import{readParquet as Vt}from"parquet-wasm";import{makeGenericClientConstructor as Kt}from"@grpc/grpc-js";import ln from"long";import o from"protobufjs/minimal";import en from"long";import k from"protobufjs/minimal";function nn(){return{null:void 0,bool:void 0,int64:void 0,uint64:void 0,double:void 0,string:void 0,array:void 0,object:void 0}}var I={encode(e,n=k.Writer.create()){return e.null!==void 0&&n.uint32(8).bool(e.null),e.bool!==void 0&&n.uint32(16).bool(e.bool),e.int64!==void 0&&n.uint32(24).int64(e.int64),e.uint64!==void 0&&n.uint32(32).uint64(e.uint64),e.double!==void 0&&n.uint32(41).double(e.double),e.string!==void 0&&n.uint32(50).string(e.string),e.array!==void 0&&T.encode(e.array,n.uint32(58).fork()).ldelim(),e.object!==void 0&&P.encode(e.object,n.uint32(66).fork()).ldelim(),n},decode(e,n){let t=e instanceof k.Reader?e:k.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=nn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.null=t.bool();continue;case 2:if(r!==16)break;s.bool=t.bool();continue;case 3:if(r!==24)break;s.int64=on(t.int64());continue;case 4:if(r!==32)break;s.uint64=on(t.uint64());continue;case 5:if(r!==41)break;s.double=t.double();continue;case 6:if(r!==50)break;s.string=t.string();continue;case 7:if(r!==58)break;s.array=T.decode(t,t.uint32());continue;case 8:if(r!==66)break;s.object=P.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{null:N(e.null)?globalThis.Boolean(e.null):void 0,bool:N(e.bool)?globalThis.Boolean(e.bool):void 0,int64:N(e.int64)?globalThis.Number(e.int64):void 0,uint64:N(e.uint64)?globalThis.Number(e.uint64):void 0,double:N(e.double)?globalThis.Number(e.double):void 0,string:N(e.string)?globalThis.String(e.string):void 0,array:N(e.array)?T.fromJSON(e.array):void 0,object:N(e.object)?P.fromJSON(e.object):void 0}},toJSON(e){let n={};return e.null!==void 0&&(n.null=e.null),e.bool!==void 0&&(n.bool=e.bool),e.int64!==void 0&&(n.int64=Math.round(e.int64)),e.uint64!==void 0&&(n.uint64=Math.round(e.uint64)),e.double!==void 0&&(n.double=e.double),e.string!==void 0&&(n.string=e.string),e.array!==void 0&&(n.array=T.toJSON(e.array)),e.object!==void 0&&(n.object=P.toJSON(e.object)),n},create(e){return I.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c,f;let n=nn();return n.null=(t=e.null)!=null?t:void 0,n.bool=(a=e.bool)!=null?a:void 0,n.int64=(s=e.int64)!=null?s:void 0,n.uint64=(r=e.uint64)!=null?r:void 0,n.double=(c=e.double)!=null?c:void 0,n.string=(f=e.string)!=null?f:void 0,n.array=e.array!==void 0&&e.array!==null?T.fromPartial(e.array):void 0,n.object=e.object!==void 0&&e.object!==null?P.fromPartial(e.object):void 0,n}};function tn(){return{value:[]}}var T={encode(e,n=k.Writer.create()){for(let t of e.value)I.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof k.Reader?e:k.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=tn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.value.push(I.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{value:globalThis.Array.isArray(e==null?void 0:e.value)?e.value.map(n=>I.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.value)!=null&&t.length&&(n.value=e.value.map(a=>I.toJSON(a))),n},create(e){return T.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=tn();return n.value=((t=e.value)==null?void 0:t.map(a=>I.fromPartial(a)))||[],n}};function rn(){return{value:{}}}var P={encode(e,n=k.Writer.create()){return Object.entries(e.value).forEach(([t,a])=>{M.encode({key:t,value:a},n.uint32(10).fork()).ldelim()}),n},decode(e,n){let t=e instanceof k.Reader?e:k.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=rn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;let c=M.decode(t,t.uint32());c.value!==void 0&&(s.value[c.key]=c.value);continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{value:_t(e.value)?Object.entries(e.value).reduce((n,[t,a])=>(n[t]=I.fromJSON(a),n),{}):{}}},toJSON(e){let n={};if(e.value){let t=Object.entries(e.value);t.length>0&&(n.value={},t.forEach(([a,s])=>{n.value[a]=I.toJSON(s)}))}return n},create(e){return P.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=rn();return n.value=Object.entries((t=e.value)!=null?t:{}).reduce((a,[s,r])=>(r!==void 0&&(a[s]=I.fromPartial(r)),a),{}),n}};function sn(){return{key:"",value:void 0}}var M={encode(e,n=k.Writer.create()){return e.key!==""&&n.uint32(10).string(e.key),e.value!==void 0&&I.encode(e.value,n.uint32(18).fork()).ldelim(),n},decode(e,n){let t=e instanceof k.Reader?e:k.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=sn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.key=t.string();continue;case 2:if(r!==18)break;s.value=I.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{key:N(e.key)?globalThis.String(e.key):"",value:N(e.value)?I.fromJSON(e.value):void 0}},toJSON(e){let n={};return e.key!==""&&(n.key=e.key),e.value!==void 0&&(n.value=I.toJSON(e.value)),n},create(e){return M.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=sn();return n.key=(t=e.key)!=null?t:"",n.value=e.value!==void 0&&e.value!==null?I.fromPartial(e.value):void 0,n}};function an(){return{object:void 0,json:void 0}}var y={encode(e,n=k.Writer.create()){return e.object!==void 0&&P.encode(e.object,n.uint32(10).fork()).ldelim(),e.json!==void 0&&n.uint32(18).string(e.json),n},decode(e,n){let t=e instanceof k.Reader?e:k.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=an();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.object=P.decode(t,t.uint32());continue;case 2:if(r!==18)break;s.json=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{object:N(e.object)?P.fromJSON(e.object):void 0,json:N(e.json)?globalThis.String(e.json):void 0}},toJSON(e){let n={};return e.object!==void 0&&(n.object=P.toJSON(e.object)),e.json!==void 0&&(n.json=e.json),n},create(e){return y.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=an();return n.object=e.object!==void 0&&e.object!==null?P.fromPartial(e.object):void 0,n.json=(t=e.json)!=null?t:void 0,n}};function on(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}k.util.Long!==en&&(k.util.Long=en,k.configure());function _t(e){return typeof e=="object"&&e!==null}function N(e){return e!=null}function Pe(e){switch(e){case 0:case"kPrimaryKey":return 0;case 1:case"kSecondaryKey":return 1;case 2:case"kClusteredSecondaryKey":return 2;case 3:case"kFullTextSearchIndex":return 3;case-1:case"UNRECOGNIZED":default:return-1}}function At(e){switch(e){case 0:return"kPrimaryKey";case 1:return"kSecondaryKey";case 2:return"kClusteredSecondaryKey";case 3:return"kFullTextSearchIndex";case-1:default:return"UNRECOGNIZED"}}function De(e){switch(e){case 0:case"kEnabled":return 0;case 1:case"kDisabled":return 1;case 2:case"kReadyToUse":return 2;case 3:case"kBuildInProgress":return 3;case 4:case"kBuildFinished":return 4;case 5:case"kDropInProgress":return 5;case 6:case"kDropFinished":return 6;case-1:case"UNRECOGNIZED":default:return-1}}function Gt(e){switch(e){case 0:return"kEnabled";case 1:return"kDisabled";case 2:return"kReadyToUse";case 3:return"kBuildInProgress";case 4:return"kBuildFinished";case 5:return"kDropInProgress";case 6:return"kDropFinished";case-1:default:return"UNRECOGNIZED"}}function un(){return{indexId:0,indexName:"",fields:[],unique:!1,indexType:0,status:0,options:void 0}}var q={encode(e,n=o.Writer.create()){e.indexId!==0&&n.uint32(8).uint32(e.indexId),e.indexName!==""&&n.uint32(18).string(e.indexName);for(let t of e.fields)n.uint32(26).string(t);return e.unique===!0&&n.uint32(32).bool(e.unique),e.indexType!==0&&n.uint32(40).int32(e.indexType),e.status!==0&&n.uint32(48).int32(e.status),e.options!==void 0&&y.encode(e.options,n.uint32(58).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=un();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.indexId=t.uint32();continue;case 2:if(r!==18)break;s.indexName=t.string();continue;case 3:if(r!==26)break;s.fields.push(t.string());continue;case 4:if(r!==32)break;s.unique=t.bool();continue;case 5:if(r!==40)break;s.indexType=t.int32();continue;case 6:if(r!==48)break;s.status=t.int32();continue;case 7:if(r!==58)break;s.options=y.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{indexId:i(e.indexId)?globalThis.Number(e.indexId):0,indexName:i(e.indexName)?globalThis.String(e.indexName):"",fields:globalThis.Array.isArray(e==null?void 0:e.fields)?e.fields.map(n=>globalThis.String(n)):[],unique:i(e.unique)?globalThis.Boolean(e.unique):!1,indexType:i(e.indexType)?Pe(e.indexType):0,status:i(e.status)?De(e.status):0,options:i(e.options)?y.fromJSON(e.options):void 0}},toJSON(e){var t;let n={};return e.indexId!==0&&(n.indexId=Math.round(e.indexId)),e.indexName!==""&&(n.indexName=e.indexName),(t=e.fields)!=null&&t.length&&(n.fields=e.fields),e.unique===!0&&(n.unique=e.unique),e.indexType!==0&&(n.indexType=At(e.indexType)),e.status!==0&&(n.status=Gt(e.status)),e.options!==void 0&&(n.options=y.toJSON(e.options)),n},create(e){return q.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c,f;let n=un();return n.indexId=(t=e.indexId)!=null?t:0,n.indexName=(a=e.indexName)!=null?a:"",n.fields=((s=e.fields)==null?void 0:s.map(x=>x))||[],n.unique=(r=e.unique)!=null?r:!1,n.indexType=(c=e.indexType)!=null?c:0,n.status=(f=e.status)!=null?f:0,n.options=e.options!==void 0&&e.options!==null?y.fromPartial(e.options):void 0,n}};function cn(){return{fieldName:"",totalDocCount:0,totalDocSize:0,docCount:0,docSize:0,sumTermFreq:0,sumDocFreq:0}}var O={encode(e,n=o.Writer.create()){return e.fieldName!==""&&n.uint32(10).string(e.fieldName),e.totalDocCount!==0&&n.uint32(16).int64(e.totalDocCount),e.totalDocSize!==0&&n.uint32(24).int64(e.totalDocSize),e.docCount!==0&&n.uint32(32).int64(e.docCount),e.docSize!==0&&n.uint32(40).int64(e.docSize),e.sumTermFreq!==0&&n.uint32(48).int64(e.sumTermFreq),e.sumDocFreq!==0&&n.uint32(56).int64(e.sumDocFreq),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=cn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.fieldName=t.string();continue;case 2:if(r!==16)break;s.totalDocCount=R(t.int64());continue;case 3:if(r!==24)break;s.totalDocSize=R(t.int64());continue;case 4:if(r!==32)break;s.docCount=R(t.int64());continue;case 5:if(r!==40)break;s.docSize=R(t.int64());continue;case 6:if(r!==48)break;s.sumTermFreq=R(t.int64());continue;case 7:if(r!==56)break;s.sumDocFreq=R(t.int64());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{fieldName:i(e.fieldName)?globalThis.String(e.fieldName):"",totalDocCount:i(e.totalDocCount)?globalThis.Number(e.totalDocCount):0,totalDocSize:i(e.totalDocSize)?globalThis.Number(e.totalDocSize):0,docCount:i(e.docCount)?globalThis.Number(e.docCount):0,docSize:i(e.docSize)?globalThis.Number(e.docSize):0,sumTermFreq:i(e.sumTermFreq)?globalThis.Number(e.sumTermFreq):0,sumDocFreq:i(e.sumDocFreq)?globalThis.Number(e.sumDocFreq):0}},toJSON(e){let n={};return e.fieldName!==""&&(n.fieldName=e.fieldName),e.totalDocCount!==0&&(n.totalDocCount=Math.round(e.totalDocCount)),e.totalDocSize!==0&&(n.totalDocSize=Math.round(e.totalDocSize)),e.docCount!==0&&(n.docCount=Math.round(e.docCount)),e.docSize!==0&&(n.docSize=Math.round(e.docSize)),e.sumTermFreq!==0&&(n.sumTermFreq=Math.round(e.sumTermFreq)),e.sumDocFreq!==0&&(n.sumDocFreq=Math.round(e.sumDocFreq)),n},create(e){return O.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c,f,x;let n=cn();return n.fieldName=(t=e.fieldName)!=null?t:"",n.totalDocCount=(a=e.totalDocCount)!=null?a:0,n.totalDocSize=(s=e.totalDocSize)!=null?s:0,n.docCount=(r=e.docCount)!=null?r:0,n.docSize=(c=e.docSize)!=null?c:0,n.sumTermFreq=(f=e.sumTermFreq)!=null?f:0,n.sumDocFreq=(x=e.sumDocFreq)!=null?x:0,n}};function dn(){return{docCount:0,docSize:0,fieldStats:[]}}var E={encode(e,n=o.Writer.create()){e.docCount!==0&&n.uint32(8).int64(e.docCount),e.docSize!==0&&n.uint32(16).int64(e.docSize);for(let t of e.fieldStats)O.encode(t,n.uint32(26).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=dn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.docCount=R(t.int64());continue;case 2:if(r!==16)break;s.docSize=R(t.int64());continue;case 3:if(r!==26)break;s.fieldStats.push(O.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{docCount:i(e.docCount)?globalThis.Number(e.docCount):0,docSize:i(e.docSize)?globalThis.Number(e.docSize):0,fieldStats:globalThis.Array.isArray(e==null?void 0:e.fieldStats)?e.fieldStats.map(n=>O.fromJSON(n)):[]}},toJSON(e){var t;let n={};return e.docCount!==0&&(n.docCount=Math.round(e.docCount)),e.docSize!==0&&(n.docSize=Math.round(e.docSize)),(t=e.fieldStats)!=null&&t.length&&(n.fieldStats=e.fieldStats.map(a=>O.toJSON(a))),n},create(e){return E.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=dn();return n.docCount=(t=e.docCount)!=null?t:0,n.docSize=(a=e.docSize)!=null?a:0,n.fieldStats=((s=e.fieldStats)==null?void 0:s.map(r=>O.fromPartial(r)))||[],n}};function fn(){return{indexId:0,indexName:"",approximatedSize:0,numDocs:0,accessed:0,added:0,updated:0,deleted:0,merged:0,accessedAt:0,addedAt:0,updatedAt:0,deletedAt:0,mergedAt:0,ftsStats:void 0}}var D={encode(e,n=o.Writer.create()){return e.indexId!==0&&n.uint32(8).uint32(e.indexId),e.indexName!==""&&n.uint32(18).string(e.indexName),e.approximatedSize!==0&&n.uint32(24).uint64(e.approximatedSize),e.numDocs!==0&&n.uint32(32).uint64(e.numDocs),e.accessed!==0&&n.uint32(40).uint64(e.accessed),e.added!==0&&n.uint32(48).uint64(e.added),e.updated!==0&&n.uint32(56).uint64(e.updated),e.deleted!==0&&n.uint32(64).uint64(e.deleted),e.merged!==0&&n.uint32(72).uint64(e.merged),e.accessedAt!==0&&n.uint32(80).int64(e.accessedAt),e.addedAt!==0&&n.uint32(88).int64(e.addedAt),e.updatedAt!==0&&n.uint32(96).int64(e.updatedAt),e.deletedAt!==0&&n.uint32(104).int64(e.deletedAt),e.mergedAt!==0&&n.uint32(112).int64(e.mergedAt),e.ftsStats!==void 0&&E.encode(e.ftsStats,n.uint32(122).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=fn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.indexId=t.uint32();continue;case 2:if(r!==18)break;s.indexName=t.string();continue;case 3:if(r!==24)break;s.approximatedSize=R(t.uint64());continue;case 4:if(r!==32)break;s.numDocs=R(t.uint64());continue;case 5:if(r!==40)break;s.accessed=R(t.uint64());continue;case 6:if(r!==48)break;s.added=R(t.uint64());continue;case 7:if(r!==56)break;s.updated=R(t.uint64());continue;case 8:if(r!==64)break;s.deleted=R(t.uint64());continue;case 9:if(r!==72)break;s.merged=R(t.uint64());continue;case 10:if(r!==80)break;s.accessedAt=R(t.int64());continue;case 11:if(r!==88)break;s.addedAt=R(t.int64());continue;case 12:if(r!==96)break;s.updatedAt=R(t.int64());continue;case 13:if(r!==104)break;s.deletedAt=R(t.int64());continue;case 14:if(r!==112)break;s.mergedAt=R(t.int64());continue;case 15:if(r!==122)break;s.ftsStats=E.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{indexId:i(e.indexId)?globalThis.Number(e.indexId):0,indexName:i(e.indexName)?globalThis.String(e.indexName):"",approximatedSize:i(e.approximatedSize)?globalThis.Number(e.approximatedSize):0,numDocs:i(e.numDocs)?globalThis.Number(e.numDocs):0,accessed:i(e.accessed)?globalThis.Number(e.accessed):0,added:i(e.added)?globalThis.Number(e.added):0,updated:i(e.updated)?globalThis.Number(e.updated):0,deleted:i(e.deleted)?globalThis.Number(e.deleted):0,merged:i(e.merged)?globalThis.Number(e.merged):0,accessedAt:i(e.accessedAt)?globalThis.Number(e.accessedAt):0,addedAt:i(e.addedAt)?globalThis.Number(e.addedAt):0,updatedAt:i(e.updatedAt)?globalThis.Number(e.updatedAt):0,deletedAt:i(e.deletedAt)?globalThis.Number(e.deletedAt):0,mergedAt:i(e.mergedAt)?globalThis.Number(e.mergedAt):0,ftsStats:i(e.ftsStats)?E.fromJSON(e.ftsStats):void 0}},toJSON(e){let n={};return e.indexId!==0&&(n.indexId=Math.round(e.indexId)),e.indexName!==""&&(n.indexName=e.indexName),e.approximatedSize!==0&&(n.approximatedSize=Math.round(e.approximatedSize)),e.numDocs!==0&&(n.numDocs=Math.round(e.numDocs)),e.accessed!==0&&(n.accessed=Math.round(e.accessed)),e.added!==0&&(n.added=Math.round(e.added)),e.updated!==0&&(n.updated=Math.round(e.updated)),e.deleted!==0&&(n.deleted=Math.round(e.deleted)),e.merged!==0&&(n.merged=Math.round(e.merged)),e.accessedAt!==0&&(n.accessedAt=Math.round(e.accessedAt)),e.addedAt!==0&&(n.addedAt=Math.round(e.addedAt)),e.updatedAt!==0&&(n.updatedAt=Math.round(e.updatedAt)),e.deletedAt!==0&&(n.deletedAt=Math.round(e.deletedAt)),e.mergedAt!==0&&(n.mergedAt=Math.round(e.mergedAt)),e.ftsStats!==void 0&&(n.ftsStats=E.toJSON(e.ftsStats)),n},create(e){return D.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c,f,x,A,Qe,Ze,Xe,$e,He,Ye;let n=fn();return n.indexId=(t=e.indexId)!=null?t:0,n.indexName=(a=e.indexName)!=null?a:"",n.approximatedSize=(s=e.approximatedSize)!=null?s:0,n.numDocs=(r=e.numDocs)!=null?r:0,n.accessed=(c=e.accessed)!=null?c:0,n.added=(f=e.added)!=null?f:0,n.updated=(x=e.updated)!=null?x:0,n.deleted=(A=e.deleted)!=null?A:0,n.merged=(Qe=e.merged)!=null?Qe:0,n.accessedAt=(Ze=e.accessedAt)!=null?Ze:0,n.addedAt=(Xe=e.addedAt)!=null?Xe:0,n.updatedAt=($e=e.updatedAt)!=null?$e:0,n.deletedAt=(He=e.deletedAt)!=null?He:0,n.mergedAt=(Ye=e.mergedAt)!=null?Ye:0,n.ftsStats=e.ftsStats!==void 0&&e.ftsStats!==null?E.fromPartial(e.ftsStats):void 0,n}};function pn(){return{collectionName:"",indexDescriptors:[],indexStats:[]}}var C={encode(e,n=o.Writer.create()){e.collectionName!==""&&n.uint32(10).string(e.collectionName);for(let t of e.indexDescriptors)q.encode(t,n.uint32(18).fork()).ldelim();for(let t of e.indexStats)D.encode(t,n.uint32(26).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=pn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.indexDescriptors.push(q.decode(t,t.uint32()));continue;case 3:if(r!==26)break;s.indexStats.push(D.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",indexDescriptors:globalThis.Array.isArray(e==null?void 0:e.indexDescriptors)?e.indexDescriptors.map(n=>q.fromJSON(n)):[],indexStats:globalThis.Array.isArray(e==null?void 0:e.indexStats)?e.indexStats.map(n=>D.fromJSON(n)):[]}},toJSON(e){var t,a;let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),(t=e.indexDescriptors)!=null&&t.length&&(n.indexDescriptors=e.indexDescriptors.map(s=>q.toJSON(s))),(a=e.indexStats)!=null&&a.length&&(n.indexStats=e.indexStats.map(s=>D.toJSON(s))),n},create(e){return C.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=pn();return n.collectionName=(t=e.collectionName)!=null?t:"",n.indexDescriptors=((a=e.indexDescriptors)==null?void 0:a.map(r=>q.fromPartial(r)))||[],n.indexStats=((s=e.indexStats)==null?void 0:s.map(r=>D.fromPartial(r)))||[],n}};function mn(){return{matched:0,scanned:0,filtered:0,queryDurationUs:0,serializationDurationUs:0}}var l={encode(e,n=o.Writer.create()){return e.matched!==0&&n.uint32(8).uint64(e.matched),e.scanned!==0&&n.uint32(16).uint64(e.scanned),e.filtered!==0&&n.uint32(24).uint64(e.filtered),e.queryDurationUs!==0&&n.uint32(32).uint64(e.queryDurationUs),e.serializationDurationUs!==0&&n.uint32(40).uint64(e.serializationDurationUs),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=mn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.matched=R(t.uint64());continue;case 2:if(r!==16)break;s.scanned=R(t.uint64());continue;case 3:if(r!==24)break;s.filtered=R(t.uint64());continue;case 4:if(r!==32)break;s.queryDurationUs=R(t.uint64());continue;case 5:if(r!==40)break;s.serializationDurationUs=R(t.uint64());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{matched:i(e.matched)?globalThis.Number(e.matched):0,scanned:i(e.scanned)?globalThis.Number(e.scanned):0,filtered:i(e.filtered)?globalThis.Number(e.filtered):0,queryDurationUs:i(e.queryDurationUs)?globalThis.Number(e.queryDurationUs):0,serializationDurationUs:i(e.serializationDurationUs)?globalThis.Number(e.serializationDurationUs):0}},toJSON(e){let n={};return e.matched!==0&&(n.matched=Math.round(e.matched)),e.scanned!==0&&(n.scanned=Math.round(e.scanned)),e.filtered!==0&&(n.filtered=Math.round(e.filtered)),e.queryDurationUs!==0&&(n.queryDurationUs=Math.round(e.queryDurationUs)),e.serializationDurationUs!==0&&(n.serializationDurationUs=Math.round(e.serializationDurationUs)),n},create(e){return l.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c;let n=mn();return n.matched=(t=e.matched)!=null?t:0,n.scanned=(a=e.scanned)!=null?a:0,n.filtered=(s=e.filtered)!=null?s:0,n.queryDurationUs=(r=e.queryDurationUs)!=null?r:0,n.serializationDurationUs=(c=e.serializationDurationUs)!=null?c:0,n}};function Rn(){return{collection:void 0}}var z={encode(e,n=o.Writer.create()){return e.collection!==void 0&&C.encode(e.collection,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Rn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collection=C.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collection:i(e.collection)?C.fromJSON(e.collection):void 0}},toJSON(e){let n={};return e.collection!==void 0&&(n.collection=C.toJSON(e.collection)),n},create(e){return z.fromPartial(e!=null?e:{})},fromPartial(e){let n=Rn();return n.collection=e.collection!==void 0&&e.collection!==null?C.fromPartial(e.collection):void 0,n}};function yn(){return{status:0,message:"",profile:void 0}}var b={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=yn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return b.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=yn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function xn(){return{collectionName:""}}var L={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=xn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):""}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),n},create(e){return L.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=xn();return n.collectionName=(t=e.collectionName)!=null?t:"",n}};function kn(){return{status:0,message:"",profile:void 0}}var w={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=kn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return w.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=kn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function qn(){return{oldCollectionName:"",newCollectionName:""}}var V={encode(e,n=o.Writer.create()){return e.oldCollectionName!==""&&n.uint32(10).string(e.oldCollectionName),e.newCollectionName!==""&&n.uint32(18).string(e.newCollectionName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=qn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.oldCollectionName=t.string();continue;case 2:if(r!==18)break;s.newCollectionName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{oldCollectionName:i(e.oldCollectionName)?globalThis.String(e.oldCollectionName):"",newCollectionName:i(e.newCollectionName)?globalThis.String(e.newCollectionName):""}},toJSON(e){let n={};return e.oldCollectionName!==""&&(n.oldCollectionName=e.oldCollectionName),e.newCollectionName!==""&&(n.newCollectionName=e.newCollectionName),n},create(e){return V.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=qn();return n.oldCollectionName=(t=e.oldCollectionName)!=null?t:"",n.newCollectionName=(a=e.newCollectionName)!=null?a:"",n}};function Cn(){return{status:0,message:"",profile:void 0}}var Q={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Cn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return Q.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Cn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function In(){return{collectionName:""}}var Z={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=In();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):""}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),n},create(e){return Z.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=In();return n.collectionName=(t=e.collectionName)!=null?t:"",n}};function Nn(){return{status:0,message:"",collection:void 0,profile:void 0}}var X={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.collection!==void 0&&C.encode(e.collection,n.uint32(26).fork()).ldelim(),e.profile!==void 0&&l.encode(e.profile,n.uint32(34).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Nn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.collection=C.decode(t,t.uint32());continue;case 4:if(r!==34)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",collection:i(e.collection)?C.fromJSON(e.collection):void 0,profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.collection!==void 0&&(n.collection=C.toJSON(e.collection)),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return X.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Nn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.collection=e.collection!==void 0&&e.collection!==null?C.fromPartial(e.collection):void 0,n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Sn(){return{collectionNames:[]}}var $={encode(e,n=o.Writer.create()){for(let t of e.collectionNames)n.uint32(10).string(t);return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Sn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionNames.push(t.string());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionNames:globalThis.Array.isArray(e==null?void 0:e.collectionNames)?e.collectionNames.map(n=>globalThis.String(n)):[]}},toJSON(e){var t;let n={};return(t=e.collectionNames)!=null&&t.length&&(n.collectionNames=e.collectionNames),n},create(e){return $.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Sn();return n.collectionNames=((t=e.collectionNames)==null?void 0:t.map(a=>a))||[],n}};function hn(){return{status:0,message:"",collections:[],profile:void 0}}var H={encode(e,n=o.Writer.create()){e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message);for(let t of e.collections)C.encode(t,n.uint32(26).fork()).ldelim();return e.profile!==void 0&&l.encode(e.profile,n.uint32(34).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=hn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.collections.push(C.decode(t,t.uint32()));continue;case 4:if(r!==34)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",collections:globalThis.Array.isArray(e==null?void 0:e.collections)?e.collections.map(n=>C.fromJSON(n)):[],profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){var t;let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),(t=e.collections)!=null&&t.length&&(n.collections=e.collections.map(a=>C.toJSON(a))),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return H.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=hn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.collections=((s=e.collections)==null?void 0:s.map(r=>C.fromPartial(r)))||[],n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Pn(){return{collectionName:"",indexDesc:void 0}}var Y={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),e.indexDesc!==void 0&&q.encode(e.indexDesc,n.uint32(18).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Pn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.indexDesc=q.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",indexDesc:i(e.indexDesc)?q.fromJSON(e.indexDesc):void 0}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),e.indexDesc!==void 0&&(n.indexDesc=q.toJSON(e.indexDesc)),n},create(e){return Y.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Pn();return n.collectionName=(t=e.collectionName)!=null?t:"",n.indexDesc=e.indexDesc!==void 0&&e.indexDesc!==null?q.fromPartial(e.indexDesc):void 0,n}};function Dn(){return{status:0,message:"",profile:void 0}}var j={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Dn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return j.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Dn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function gn(){return{collectionName:"",indexName:""}}var ee={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),e.indexName!==""&&n.uint32(18).string(e.indexName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=gn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.indexName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",indexName:i(e.indexName)?globalThis.String(e.indexName):""}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),e.indexName!==""&&(n.indexName=e.indexName),n},create(e){return ee.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=gn();return n.collectionName=(t=e.collectionName)!=null?t:"",n.indexName=(a=e.indexName)!=null?a:"",n}};function vn(){return{status:0,message:"",profile:void 0}}var ne={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=vn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return ne.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=vn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Bn(){return{collectionName:"",oldIndexName:"",newIndexName:""}}var te={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),e.oldIndexName!==""&&n.uint32(18).string(e.oldIndexName),e.newIndexName!==""&&n.uint32(26).string(e.newIndexName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Bn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.oldIndexName=t.string();continue;case 3:if(r!==26)break;s.newIndexName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",oldIndexName:i(e.oldIndexName)?globalThis.String(e.oldIndexName):"",newIndexName:i(e.newIndexName)?globalThis.String(e.newIndexName):""}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),e.oldIndexName!==""&&(n.oldIndexName=e.oldIndexName),e.newIndexName!==""&&(n.newIndexName=e.newIndexName),n},create(e){return te.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=Bn();return n.collectionName=(t=e.collectionName)!=null?t:"",n.oldIndexName=(a=e.oldIndexName)!=null?a:"",n.newIndexName=(s=e.newIndexName)!=null?s:"",n}};function Tn(){return{status:0,message:"",profile:void 0}}var re={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Tn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return re.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Tn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function On(){return{collectionName:"",indexName:""}}var se={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),e.indexName!==""&&n.uint32(18).string(e.indexName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=On();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.indexName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",indexName:i(e.indexName)?globalThis.String(e.indexName):""}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),e.indexName!==""&&(n.indexName=e.indexName),n},create(e){return se.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=On();return n.collectionName=(t=e.collectionName)!=null?t:"",n.indexName=(a=e.indexName)!=null?a:"",n}};function En(){return{status:0,message:"",collectionName:"",indexDesc:void 0,indexStats:void 0,profile:void 0}}var ae={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.collectionName!==""&&n.uint32(26).string(e.collectionName),e.indexDesc!==void 0&&q.encode(e.indexDesc,n.uint32(34).fork()).ldelim(),e.indexStats!==void 0&&D.encode(e.indexStats,n.uint32(42).fork()).ldelim(),e.profile!==void 0&&l.encode(e.profile,n.uint32(50).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=En();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.collectionName=t.string();continue;case 4:if(r!==34)break;s.indexDesc=q.decode(t,t.uint32());continue;case 5:if(r!==42)break;s.indexStats=D.decode(t,t.uint32());continue;case 6:if(r!==50)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",indexDesc:i(e.indexDesc)?q.fromJSON(e.indexDesc):void 0,indexStats:i(e.indexStats)?D.fromJSON(e.indexStats):void 0,profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.collectionName!==""&&(n.collectionName=e.collectionName),e.indexDesc!==void 0&&(n.indexDesc=q.toJSON(e.indexDesc)),e.indexStats!==void 0&&(n.indexStats=D.toJSON(e.indexStats)),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return ae.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=En();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.collectionName=(s=e.collectionName)!=null?s:"",n.indexDesc=e.indexDesc!==void 0&&e.indexDesc!==null?q.fromPartial(e.indexDesc):void 0,n.indexStats=e.indexStats!==void 0&&e.indexStats!==null?D.fromPartial(e.indexStats):void 0,n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Un(){return{collectionName:"",query:void 0}}var p={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),e.query!==void 0&&y.encode(e.query,n.uint32(18).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Un();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.query=y.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",query:i(e.query)?y.fromJSON(e.query):void 0}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),e.query!==void 0&&(n.query=y.toJSON(e.query)),n},create(e){return p.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Un();return n.collectionName=(t=e.collectionName)!=null?t:"",n.query=e.query!==void 0&&e.query!==null?y.fromPartial(e.query):void 0,n}};function _n(){return{query:void 0,limit:0,indexColumns:[],columns:[],dtypes:{}}}var g={encode(e,n=o.Writer.create()){e.query!==void 0&&p.encode(e.query,n.uint32(10).fork()).ldelim(),e.limit!==0&&n.uint32(16).int32(e.limit);for(let t of e.indexColumns)n.uint32(26).string(t);for(let t of e.columns)n.uint32(34).string(t);return Object.entries(e.dtypes).forEach(([t,a])=>{oe.encode({key:t,value:a},n.uint32(42).fork()).ldelim()}),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=_n();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.query=p.decode(t,t.uint32());continue;case 2:if(r!==16)break;s.limit=t.int32();continue;case 3:if(r!==26)break;s.indexColumns.push(t.string());continue;case 4:if(r!==34)break;s.columns.push(t.string());continue;case 5:if(r!==42)break;let c=oe.decode(t,t.uint32());c.value!==void 0&&(s.dtypes[c.key]=c.value);continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{query:i(e.query)?p.fromJSON(e.query):void 0,limit:i(e.limit)?globalThis.Number(e.limit):0,indexColumns:globalThis.Array.isArray(e==null?void 0:e.indexColumns)?e.indexColumns.map(n=>globalThis.String(n)):[],columns:globalThis.Array.isArray(e==null?void 0:e.columns)?e.columns.map(n=>globalThis.String(n)):[],dtypes:zt(e.dtypes)?Object.entries(e.dtypes).reduce((n,[t,a])=>(n[t]=String(a),n),{}):{}}},toJSON(e){var t,a;let n={};if(e.query!==void 0&&(n.query=p.toJSON(e.query)),e.limit!==0&&(n.limit=Math.round(e.limit)),(t=e.indexColumns)!=null&&t.length&&(n.indexColumns=e.indexColumns),(a=e.columns)!=null&&a.length&&(n.columns=e.columns),e.dtypes){let s=Object.entries(e.dtypes);s.length>0&&(n.dtypes={},s.forEach(([r,c])=>{n.dtypes[r]=c}))}return n},create(e){return g.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r;let n=_n();return n.query=e.query!==void 0&&e.query!==null?p.fromPartial(e.query):void 0,n.limit=(t=e.limit)!=null?t:0,n.indexColumns=((a=e.indexColumns)==null?void 0:a.map(c=>c))||[],n.columns=((s=e.columns)==null?void 0:s.map(c=>c))||[],n.dtypes=Object.entries((r=e.dtypes)!=null?r:{}).reduce((c,[f,x])=>(x!==void 0&&(c[f]=globalThis.String(x)),c),{}),n}};function Jn(){return{key:"",value:""}}var oe={encode(e,n=o.Writer.create()){return e.key!==""&&n.uint32(10).string(e.key),e.value!==""&&n.uint32(18).string(e.value),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Jn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.key=t.string();continue;case 2:if(r!==18)break;s.value=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{key:i(e.key)?globalThis.String(e.key):"",value:i(e.value)?globalThis.String(e.value):""}},toJSON(e){let n={};return e.key!==""&&(n.key=e.key),e.value!==""&&(n.value=e.value),n},create(e){return oe.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Jn();return n.key=(t=e.key)!=null?t:"",n.value=(a=e.value)!=null?a:"",n}};function Kn(){return{numColumns:0,numRows:0,buffer:Buffer.alloc(0),profile:void 0}}var v={encode(e,n=o.Writer.create()){return e.numColumns!==0&&n.uint32(8).int32(e.numColumns),e.numRows!==0&&n.uint32(16).int32(e.numRows),e.buffer.length!==0&&n.uint32(26).bytes(e.buffer),e.profile!==void 0&&l.encode(e.profile,n.uint32(34).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Kn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.numColumns=t.int32();continue;case 2:if(r!==16)break;s.numRows=t.int32();continue;case 3:if(r!==26)break;s.buffer=t.bytes();continue;case 4:if(r!==34)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{numColumns:i(e.numColumns)?globalThis.Number(e.numColumns):0,numRows:i(e.numRows)?globalThis.Number(e.numRows):0,buffer:i(e.buffer)?Buffer.from(Ft(e.buffer)):Buffer.alloc(0),profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.numColumns!==0&&(n.numColumns=Math.round(e.numColumns)),e.numRows!==0&&(n.numRows=Math.round(e.numRows)),e.buffer.length!==0&&(n.buffer=Mt(e.buffer)),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return v.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=Kn();return n.numColumns=(t=e.numColumns)!=null?t:0,n.numRows=(a=e.numRows)!=null?a:0,n.buffer=(s=e.buffer)!=null?s:Buffer.alloc(0),n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function An(){return{requests:[]}}var ie={encode(e,n=o.Writer.create()){for(let t of e.requests)g.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=An();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.requests.push(g.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{requests:globalThis.Array.isArray(e==null?void 0:e.requests)?e.requests.map(n=>g.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.requests)!=null&&t.length&&(n.requests=e.requests.map(a=>g.toJSON(a))),n},create(e){return ie.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=An();return n.requests=((t=e.requests)==null?void 0:t.map(a=>g.fromPartial(a)))||[],n}};function Gn(){return{responses:[]}}var le={encode(e,n=o.Writer.create()){for(let t of e.responses)v.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Gn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.responses.push(v.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{responses:globalThis.Array.isArray(e==null?void 0:e.responses)?e.responses.map(n=>v.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.responses)!=null&&t.length&&(n.responses=e.responses.map(a=>v.toJSON(a))),n},create(e){return le.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Gn();return n.responses=((t=e.responses)==null?void 0:t.map(a=>v.fromPartial(a)))||[],n}};function Wn(){return{query:void 0}}var ue={encode(e,n=o.Writer.create()){return e.query!==void 0&&p.encode(e.query,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Wn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.query=p.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{query:i(e.query)?p.fromJSON(e.query):void 0}},toJSON(e){let n={};return e.query!==void 0&&(n.query=p.toJSON(e.query)),n},create(e){return ue.fromPartial(e!=null?e:{})},fromPartial(e){let n=Wn();return n.query=e.query!==void 0&&e.query!==null?p.fromPartial(e.query):void 0,n}};function Fn(){return{status:0,message:"",count:0,profile:void 0}}var ce={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.count!==0&&n.uint32(24).int64(e.count),e.profile!==void 0&&l.encode(e.profile,n.uint32(34).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Fn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==24)break;s.count=R(t.int64());continue;case 4:if(r!==34)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",count:i(e.count)?globalThis.Number(e.count):0,profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.count!==0&&(n.count=Math.round(e.count)),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return ce.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=Fn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.count=(s=e.count)!=null?s:0,n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Mn(){return{query:void 0}}var de={encode(e,n=o.Writer.create()){return e.query!==void 0&&p.encode(e.query,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Mn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.query=p.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{query:i(e.query)?p.fromJSON(e.query):void 0}},toJSON(e){let n={};return e.query!==void 0&&(n.query=p.toJSON(e.query)),n},create(e){return de.fromPartial(e!=null?e:{})},fromPartial(e){let n=Mn();return n.query=e.query!==void 0&&e.query!==null?p.fromPartial(e.query):void 0,n}};function zn(){return{status:0,message:"",found:!1,profile:void 0}}var fe={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.found===!0&&n.uint32(24).bool(e.found),e.profile!==void 0&&l.encode(e.profile,n.uint32(34).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=zn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==24)break;s.found=t.bool();continue;case 4:if(r!==34)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",found:i(e.found)?globalThis.Boolean(e.found):!1,profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.found===!0&&(n.found=e.found),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return fe.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=zn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.found=(s=e.found)!=null?s:!1,n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function bn(){return{requests:[]}}var pe={encode(e,n=o.Writer.create()){for(let t of e.requests)p.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=bn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.requests.push(p.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{requests:globalThis.Array.isArray(e==null?void 0:e.requests)?e.requests.map(n=>p.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.requests)!=null&&t.length&&(n.requests=e.requests.map(a=>p.toJSON(a))),n},create(e){return pe.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=bn();return n.requests=((t=e.requests)==null?void 0:t.map(a=>p.fromPartial(a)))||[],n}};function Ln(){return{status:0,message:"",profile:void 0}}var me={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Ln();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return me.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Ln();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function wn(){return{collectionName:"",filter:void 0,updates:void 0}}var Re={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),e.filter!==void 0&&y.encode(e.filter,n.uint32(18).fork()).ldelim(),e.updates!==void 0&&y.encode(e.updates,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=wn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue;case 2:if(r!==18)break;s.filter=y.decode(t,t.uint32());continue;case 3:if(r!==26)break;s.updates=y.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",filter:i(e.filter)?y.fromJSON(e.filter):void 0,updates:i(e.updates)?y.fromJSON(e.updates):void 0}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),e.filter!==void 0&&(n.filter=y.toJSON(e.filter)),e.updates!==void 0&&(n.updates=y.toJSON(e.updates)),n},create(e){return Re.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=wn();return n.collectionName=(t=e.collectionName)!=null?t:"",n.filter=e.filter!==void 0&&e.filter!==null?y.fromPartial(e.filter):void 0,n.updates=e.updates!==void 0&&e.updates!==null?y.fromPartial(e.updates):void 0,n}};function Vn(){return{status:0,message:"",profile:void 0}}var ye={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Vn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return ye.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Vn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Qn(){return{requests:[]}}var xe={encode(e,n=o.Writer.create()){for(let t of e.requests)p.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Qn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.requests.push(p.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{requests:globalThis.Array.isArray(e==null?void 0:e.requests)?e.requests.map(n=>p.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.requests)!=null&&t.length&&(n.requests=e.requests.map(a=>p.toJSON(a))),n},create(e){return xe.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Qn();return n.requests=((t=e.requests)==null?void 0:t.map(a=>p.fromPartial(a)))||[],n}};function Zn(){return{status:0,message:"",profile:void 0}}var ke={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Zn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return ke.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Zn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function Xn(){return{queries:[]}}var qe={encode(e,n=o.Writer.create()){for(let t of e.queries)p.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Xn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.queries.push(p.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{queries:globalThis.Array.isArray(e==null?void 0:e.queries)?e.queries.map(n=>p.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.queries)!=null&&t.length&&(n.queries=e.queries.map(a=>p.toJSON(a))),n},create(e){return qe.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Xn();return n.queries=((t=e.queries)==null?void 0:t.map(a=>p.fromPartial(a)))||[],n}};function $n(){return{status:0,message:"",collectionName:"",indexName:"",queryPlan:""}}var U={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.collectionName!==""&&n.uint32(26).string(e.collectionName),e.indexName!==""&&n.uint32(34).string(e.indexName),e.queryPlan!==""&&n.uint32(42).string(e.queryPlan),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=$n();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.collectionName=t.string();continue;case 4:if(r!==34)break;s.indexName=t.string();continue;case 5:if(r!==42)break;s.queryPlan=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",collectionName:i(e.collectionName)?globalThis.String(e.collectionName):"",indexName:i(e.indexName)?globalThis.String(e.indexName):"",queryPlan:i(e.queryPlan)?globalThis.String(e.queryPlan):""}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.collectionName!==""&&(n.collectionName=e.collectionName),e.indexName!==""&&(n.indexName=e.indexName),e.queryPlan!==""&&(n.queryPlan=e.queryPlan),n},create(e){return U.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c;let n=$n();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.collectionName=(s=e.collectionName)!=null?s:"",n.indexName=(r=e.indexName)!=null?r:"",n.queryPlan=(c=e.queryPlan)!=null?c:"",n}};function Hn(){return{status:0,queryPlans:[]}}var Ce={encode(e,n=o.Writer.create()){e.status!==0&&n.uint32(8).int32(e.status);for(let t of e.queryPlans)U.encode(t,n.uint32(18).fork()).ldelim();return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Hn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.queryPlans.push(U.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,queryPlans:globalThis.Array.isArray(e==null?void 0:e.queryPlans)?e.queryPlans.map(n=>U.fromJSON(n)):[]}},toJSON(e){var t;let n={};return e.status!==0&&(n.status=Math.round(e.status)),(t=e.queryPlans)!=null&&t.length&&(n.queryPlans=e.queryPlans.map(a=>U.toJSON(a))),n},create(e){return Ce.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Hn();return n.status=(t=e.status)!=null?t:0,n.queryPlans=((a=e.queryPlans)==null?void 0:a.map(s=>U.fromPartial(s)))||[],n}};function Yn(){return{collectionName:""}}var Ie={encode(e,n=o.Writer.create()){return e.collectionName!==""&&n.uint32(10).string(e.collectionName),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Yn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.collectionName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{collectionName:i(e.collectionName)?globalThis.String(e.collectionName):""}},toJSON(e){let n={};return e.collectionName!==""&&(n.collectionName=e.collectionName),n},create(e){return Ie.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Yn();return n.collectionName=(t=e.collectionName)!=null?t:"",n}};function jn(){return{status:0,message:"",profile:void 0}}var Ne={encode(e,n=o.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&l.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=jn();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return Ne.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=jn();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}};function et(){return{}}var Se={encode(e,n=o.Writer.create()){return n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=et();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{}},toJSON(e){return{}},create(e){return Se.fromPartial(e!=null?e:{})},fromPartial(e){return et()}};function nt(){return{status:0,message:"",collectionNames:[],profile:void 0}}var he={encode(e,n=o.Writer.create()){e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message);for(let t of e.collectionNames)n.uint32(26).string(t);return e.profile!==void 0&&l.encode(e.profile,n.uint32(34).fork()).ldelim(),n},decode(e,n){let t=e instanceof o.Reader?e:o.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=nt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.collectionNames.push(t.string());continue;case 4:if(r!==34)break;s.profile=l.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:i(e.status)?globalThis.Number(e.status):0,message:i(e.message)?globalThis.String(e.message):"",collectionNames:globalThis.Array.isArray(e==null?void 0:e.collectionNames)?e.collectionNames.map(n=>globalThis.String(n)):[],profile:i(e.profile)?l.fromJSON(e.profile):void 0}},toJSON(e){var t;let n={};return e.status!==0&&(n.status=Math.round(e.status)),e.message!==""&&(n.message=e.message),(t=e.collectionNames)!=null&&t.length&&(n.collectionNames=e.collectionNames),e.profile!==void 0&&(n.profile=l.toJSON(e.profile)),n},create(e){return he.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s;let n=nt();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.collectionNames=((s=e.collectionNames)==null?void 0:s.map(r=>r))||[],n.profile=e.profile!==void 0&&e.profile!==null?l.fromPartial(e.profile):void 0,n}},Wt={find:{path:"/cognica.rpc.db.document.DocumentDBService/find",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(g.encode(e).finish()),requestDeserialize:e=>g.decode(e),responseSerialize:e=>Buffer.from(v.encode(e).finish()),responseDeserialize:e=>v.decode(e)},findBatch:{path:"/cognica.rpc.db.document.DocumentDBService/find_batch",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(ie.encode(e).finish()),requestDeserialize:e=>ie.decode(e),responseSerialize:e=>Buffer.from(le.encode(e).finish()),responseDeserialize:e=>le.decode(e)},count:{path:"/cognica.rpc.db.document.DocumentDBService/count",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(ue.encode(e).finish()),requestDeserialize:e=>ue.decode(e),responseSerialize:e=>Buffer.from(ce.encode(e).finish()),responseDeserialize:e=>ce.decode(e)},contains:{path:"/cognica.rpc.db.document.DocumentDBService/contains",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(de.encode(e).finish()),requestDeserialize:e=>de.decode(e),responseSerialize:e=>Buffer.from(fe.encode(e).finish()),responseDeserialize:e=>fe.decode(e)},insert:{path:"/cognica.rpc.db.document.DocumentDBService/insert",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(pe.encode(e).finish()),requestDeserialize:e=>pe.decode(e),responseSerialize:e=>Buffer.from(me.encode(e).finish()),responseDeserialize:e=>me.decode(e)},update:{path:"/cognica.rpc.db.document.DocumentDBService/update",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Re.encode(e).finish()),requestDeserialize:e=>Re.decode(e),responseSerialize:e=>Buffer.from(ye.encode(e).finish()),responseDeserialize:e=>ye.decode(e)},remove:{path:"/cognica.rpc.db.document.DocumentDBService/remove",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(xe.encode(e).finish()),requestDeserialize:e=>xe.decode(e),responseSerialize:e=>Buffer.from(ke.encode(e).finish()),responseDeserialize:e=>ke.decode(e)},explain:{path:"/cognica.rpc.db.document.DocumentDBService/explain",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(qe.encode(e).finish()),requestDeserialize:e=>qe.decode(e),responseSerialize:e=>Buffer.from(Ce.encode(e).finish()),responseDeserialize:e=>Ce.decode(e)},createCollection:{path:"/cognica.rpc.db.document.DocumentDBService/create_collection",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(z.encode(e).finish()),requestDeserialize:e=>z.decode(e),responseSerialize:e=>Buffer.from(b.encode(e).finish()),responseDeserialize:e=>b.decode(e)},dropCollection:{path:"/cognica.rpc.db.document.DocumentDBService/drop_collection",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(L.encode(e).finish()),requestDeserialize:e=>L.decode(e),responseSerialize:e=>Buffer.from(w.encode(e).finish()),responseDeserialize:e=>w.decode(e)},renameCollection:{path:"/cognica.rpc.db.document.DocumentDBService/rename_collection",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(V.encode(e).finish()),requestDeserialize:e=>V.decode(e),responseSerialize:e=>Buffer.from(Q.encode(e).finish()),responseDeserialize:e=>Q.decode(e)},getCollection:{path:"/cognica.rpc.db.document.DocumentDBService/get_collection",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Z.encode(e).finish()),requestDeserialize:e=>Z.decode(e),responseSerialize:e=>Buffer.from(X.encode(e).finish()),responseDeserialize:e=>X.decode(e)},getCollections:{path:"/cognica.rpc.db.document.DocumentDBService/get_collections",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from($.encode(e).finish()),requestDeserialize:e=>$.decode(e),responseSerialize:e=>Buffer.from(H.encode(e).finish()),responseDeserialize:e=>H.decode(e)},listCollections:{path:"/cognica.rpc.db.document.DocumentDBService/list_collections",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Se.encode(e).finish()),requestDeserialize:e=>Se.decode(e),responseSerialize:e=>Buffer.from(he.encode(e).finish()),responseDeserialize:e=>he.decode(e)},truncateCollection:{path:"/cognica.rpc.db.document.DocumentDBService/truncate_collection",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Ie.encode(e).finish()),requestDeserialize:e=>Ie.decode(e),responseSerialize:e=>Buffer.from(Ne.encode(e).finish()),responseDeserialize:e=>Ne.decode(e)},createIndex:{path:"/cognica.rpc.db.document.DocumentDBService/create_index",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Y.encode(e).finish()),requestDeserialize:e=>Y.decode(e),responseSerialize:e=>Buffer.from(j.encode(e).finish()),responseDeserialize:e=>j.decode(e)},dropIndex:{path:"/cognica.rpc.db.document.DocumentDBService/drop_index",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(ee.encode(e).finish()),requestDeserialize:e=>ee.decode(e),responseSerialize:e=>Buffer.from(ne.encode(e).finish()),responseDeserialize:e=>ne.decode(e)},renameIndex:{path:"/cognica.rpc.db.document.DocumentDBService/rename_index",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(te.encode(e).finish()),requestDeserialize:e=>te.decode(e),responseSerialize:e=>Buffer.from(re.encode(e).finish()),responseDeserialize:e=>re.decode(e)},getIndex:{path:"/cognica.rpc.db.document.DocumentDBService/get_index",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(se.encode(e).finish()),requestDeserialize:e=>se.decode(e),responseSerialize:e=>Buffer.from(ae.encode(e).finish()),responseDeserialize:e=>ae.decode(e)}},tt=Kt(Wt,"cognica.rpc.db.document.DocumentDBService");function Ft(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let n=globalThis.atob(e),t=new Uint8Array(n.length);for(let a=0;a<n.length;++a)t[a]=n.charCodeAt(a);return t}}function Mt(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let n=[];return e.forEach(t=>{n.push(globalThis.String.fromCharCode(t))}),globalThis.btoa(n.join(""))}}function R(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}o.util.Long!==ln&&(o.util.Long=ln,o.configure());function zt(e){return typeof e=="object"&&e!==null}function i(e){return e!=null}import{Metadata as Lt}from"@grpc/grpc-js";var B=class{constructor(n,t,a=void 0){this._channel=n,this._client=t,this._timeout=a}createPromise(n,t,a=()=>null,s=!0){let r=new Lt;return s&&r.setOptions({waitForReady:s}),this._timeout&&r.set("grpc-timeout",`${this._timeout}m`),new Promise((c,f)=>{this._client[t](n,r,(x,A)=>{x?f(x):c(a(A))})})}toDocument(n){let t;return n.json===void 0?t=y.fromJSON({json:JSON.stringify(n)}):t=n,t}get channel(){return this._channel}get timeout(){return this._timeout}close(){this._client.close()}};var Qt=(r=>(r[r.kPrimaryKey=0]="kPrimaryKey",r[r.kSecondaryKey=1]="kSecondaryKey",r[r.kClusteredSecondaryKey=2]="kClusteredSecondaryKey",r[r.kFullTextSearchIndex=3]="kFullTextSearchIndex",r[r.UNRECOGNIZED=-1]="UNRECOGNIZED",r))(Qt||{}),xr=Pe,kr=De,rt=class extends B{constructor(n,t=void 0){let a=new tt(n.address,n.credential,n.options);super(n,a,t)}find(n,t,a,s,r,c){let f;return typeof n=="string"?f=this.toFindRequest({collectionName:n,query:t,limit:a,indexColumns:s,columns:r,dtypes:c}):f=this.toFindRequest(n),this.createPromise(f,"find",x=>this.toTable(x))}findBatch(n){let t={requests:n.map(a=>this.toFindRequest(a))};return this.createPromise(t,"findBatch",a=>a.responses.map(s=>this.toTable(s)))}insert(n,t){Array.isArray(t)||(t=[t]);let s={requests:t.map(r=>({collectionName:n,query:this.toDocument(r)}))};return this.createPromise(s,"insert")}update(n,t,a){let s={collectionName:n,filter:this.toDocument(t),updates:this.toDocument(a)};return this.createPromise(s,"update")}remove(n,t){Array.isArray(t)||(t=[t]);let s={requests:t.map(r=>({collectionName:n,query:this.toDocument(r)}))};return this.createPromise(s,"remove")}createCollection(n,t){let a=t.map(s=>this.toIndexDescriptor(s));return this.createPromise({collection:{collectionName:n,indexDescriptors:a,indexStats:[]}},"createCollection")}getCollection(n){return this.createPromise({collectionName:n},"getCollection",t=>t?t.collection:null)}getCollections(n){return this.createPromise({collectionNames:n},"getCollections",t=>t?t.collections:null)}listCollections(){return this.createPromise({},"listCollections",n=>n?n.collectionNames:null)}renameCollection(n,t){return this.createPromise({oldCollectionName:n,newCollectionName:t},"renameCollection")}truncateCollection(n){return this.createPromise({collectionName:n},"truncateCollection")}dropCollection(n){return this.createPromise({collectionName:n},"dropCollection")}createIndex(n,t){let a=this.toIndexDescriptor(t);return this.createPromise({collectionName:n,indexDesc:a},"createIndex")}getIndex(n,t){return this.createPromise({collectionName:n,indexName:t},"getIndex",a=>a)}renameIndex(n,t,a){return this.createPromise({collectionName:n,oldIndexName:t,newIndexName:a},"renameIndex")}dropIndex(n,t){return this.createPromise({collectionName:n,indexName:t},"dropIndex")}empty(n,t,a=void 0){return this.find({collectionName:n,query:t,dtypes:a}).then(s=>s?s.numRows==0:!0)}toFindRequest(n){return g.fromJSON({query:{collectionName:n.collectionName,query:this.toDocument(n.query)},limit:n.limit,indexColumns:n.indexColumns,columns:n.columns,dtypes:n.dtypes})}toTable(n){if(n.numRows){let t=Vt(n.buffer);return wt(t.intoIPCStream())}return null}toIndexDescriptor(n){let t;n.options&&(t=this.toDocument(n.options));let a={indexName:n.name,fields:n.fields,unique:n.unique,indexType:n.index_type,status:n.status,options:t};return q.fromJSON(a)}};import{makeGenericClientConstructor as Bt}from"@grpc/grpc-js";import st from"long";import u from"protobufjs/minimal";function Zt(e){switch(e){case 0:case"kOK":return 0;case 1:case"kNotFound":return 1;case 10:case"kInternal":return 10;case-1:case"UNRECOGNIZED":default:return-1}}function Xt(e){switch(e){case 0:return"kOK";case 1:return"kNotFound";case 10:return"kInternal";case-1:default:return"UNRECOGNIZED"}}function at(){return{durationUs:0}}var _={encode(e,n=u.Writer.create()){return e.durationUs!==0&&n.uint32(8).uint64(e.durationUs),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=at();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.durationUs=W(t.uint64());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{durationUs:m(e.durationUs)?globalThis.Number(e.durationUs):0}},toJSON(e){let n={};return e.durationUs!==0&&(n.durationUs=Math.round(e.durationUs)),n},create(e){return _.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=at();return n.durationUs=(t=e.durationUs)!=null?t:0,n}};function ot(){return{status:0,message:"",profile:void 0}}var d={encode(e,n=u.Writer.create()){return e.status!==0&&n.uint32(8).int32(e.status),e.message!==""&&n.uint32(18).string(e.message),e.profile!==void 0&&_.encode(e.profile,n.uint32(26).fork()).ldelim(),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=ot();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==8)break;s.status=t.int32();continue;case 2:if(r!==18)break;s.message=t.string();continue;case 3:if(r!==26)break;s.profile=_.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{status:m(e.status)?Zt(e.status):0,message:m(e.message)?globalThis.String(e.message):"",profile:m(e.profile)?_.fromJSON(e.profile):void 0}},toJSON(e){let n={};return e.status!==0&&(n.status=Xt(e.status)),e.message!==""&&(n.message=e.message),e.profile!==void 0&&(n.profile=_.toJSON(e.profile)),n},create(e){return d.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=ot();return n.status=(t=e.status)!=null?t:0,n.message=(a=e.message)!=null?a:"",n.profile=e.profile!==void 0&&e.profile!==null?_.fromPartial(e.profile):void 0,n}};function it(){return{keyspaceName:"",key:Buffer.alloc(0),value:Buffer.alloc(0),ttl:0,createIfMissing:!1}}var J={encode(e,n=u.Writer.create()){return e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName),e.key.length!==0&&n.uint32(18).bytes(e.key),e.value.length!==0&&n.uint32(26).bytes(e.value),e.ttl!==0&&n.uint32(32).int64(e.ttl),e.createIfMissing===!0&&n.uint32(40).bool(e.createIfMissing),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=it();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.key=t.bytes();continue;case 3:if(r!==26)break;s.value=t.bytes();continue;case 4:if(r!==32)break;s.ttl=W(t.int64());continue;case 5:if(r!==40)break;s.createIfMissing=t.bool();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",key:m(e.key)?Buffer.from(S(e.key)):Buffer.alloc(0),value:m(e.value)?Buffer.from(S(e.value)):Buffer.alloc(0),ttl:m(e.ttl)?globalThis.Number(e.ttl):0,createIfMissing:m(e.createIfMissing)?globalThis.Boolean(e.createIfMissing):!1}},toJSON(e){let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),e.key.length!==0&&(n.key=h(e.key)),e.value.length!==0&&(n.value=h(e.value)),e.ttl!==0&&(n.ttl=Math.round(e.ttl)),e.createIfMissing===!0&&(n.createIfMissing=e.createIfMissing),n},create(e){return J.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c;let n=it();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.key=(a=e.key)!=null?a:Buffer.alloc(0),n.value=(s=e.value)!=null?s:Buffer.alloc(0),n.ttl=(r=e.ttl)!=null?r:0,n.createIfMissing=(c=e.createIfMissing)!=null?c:!1,n}};function lt(){return{response:void 0}}var ge={encode(e,n=u.Writer.create()){return e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=lt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0}},toJSON(e){let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),n},create(e){return ge.fromPartial(e!=null?e:{})},fromPartial(e){let n=lt();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n}};function ut(){return{keyspaceName:"",key:Buffer.alloc(0)}}var ve={encode(e,n=u.Writer.create()){return e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName),e.key.length!==0&&n.uint32(18).bytes(e.key),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=ut();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.key=t.bytes();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",key:m(e.key)?Buffer.from(S(e.key)):Buffer.alloc(0)}},toJSON(e){let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),e.key.length!==0&&(n.key=h(e.key)),n},create(e){return ve.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=ut();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.key=(a=e.key)!=null?a:Buffer.alloc(0),n}};function ct(){return{response:void 0}}var Be={encode(e,n=u.Writer.create()){return e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=ct();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0}},toJSON(e){let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),n},create(e){return Be.fromPartial(e!=null?e:{})},fromPartial(e){let n=ct();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n}};function dt(){return{keyspaceName:"",key:Buffer.alloc(0)}}var Te={encode(e,n=u.Writer.create()){return e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName),e.key.length!==0&&n.uint32(18).bytes(e.key),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=dt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.key=t.bytes();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",key:m(e.key)?Buffer.from(S(e.key)):Buffer.alloc(0)}},toJSON(e){let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),e.key.length!==0&&(n.key=h(e.key)),n},create(e){return Te.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=dt();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.key=(a=e.key)!=null?a:Buffer.alloc(0),n}};function ft(){return{response:void 0,value:Buffer.alloc(0)}}var Oe={encode(e,n=u.Writer.create()){return e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim(),e.value.length!==0&&n.uint32(18).bytes(e.value),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=ft();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue;case 2:if(r!==18)break;s.value=t.bytes();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0,value:m(e.value)?Buffer.from(S(e.value)):Buffer.alloc(0)}},toJSON(e){let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),e.value.length!==0&&(n.value=h(e.value)),n},create(e){return Oe.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=ft();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n.value=(t=e.value)!=null?t:Buffer.alloc(0),n}};function pt(){return{keyspaceName:"",keys:[]}}var Ee={encode(e,n=u.Writer.create()){e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName);for(let t of e.keys)n.uint32(18).bytes(t);return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=pt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.keys.push(t.bytes());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",keys:globalThis.Array.isArray(e==null?void 0:e.keys)?e.keys.map(n=>Buffer.from(S(n))):[]}},toJSON(e){var t;let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),(t=e.keys)!=null&&t.length&&(n.keys=e.keys.map(a=>h(a))),n},create(e){return Ee.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=pt();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.keys=((a=e.keys)==null?void 0:a.map(s=>s))||[],n}};function mt(){return{responses:[],values:[]}}var Ue={encode(e,n=u.Writer.create()){for(let t of e.responses)d.encode(t,n.uint32(10).fork()).ldelim();for(let t of e.values)n.uint32(18).bytes(t);return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=mt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.responses.push(d.decode(t,t.uint32()));continue;case 2:if(r!==18)break;s.values.push(t.bytes());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{responses:globalThis.Array.isArray(e==null?void 0:e.responses)?e.responses.map(n=>d.fromJSON(n)):[],values:globalThis.Array.isArray(e==null?void 0:e.values)?e.values.map(n=>Buffer.from(S(n))):[]}},toJSON(e){var t,a;let n={};return(t=e.responses)!=null&&t.length&&(n.responses=e.responses.map(s=>d.toJSON(s))),(a=e.values)!=null&&a.length&&(n.values=e.values.map(s=>h(s))),n},create(e){return Ue.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=mt();return n.responses=((t=e.responses)==null?void 0:t.map(s=>d.fromPartial(s)))||[],n.values=((a=e.values)==null?void 0:a.map(s=>s))||[],n}};function Rt(){return{keyspaceName:"",keys:[],values:[],ttls:[],createIfMissing:!1}}var K={encode(e,n=u.Writer.create()){e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName);for(let t of e.keys)n.uint32(18).bytes(t);for(let t of e.values)n.uint32(26).bytes(t);n.uint32(34).fork();for(let t of e.ttls)n.int64(t);return n.ldelim(),e.createIfMissing===!0&&n.uint32(40).bool(e.createIfMissing),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Rt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.keys.push(t.bytes());continue;case 3:if(r!==26)break;s.values.push(t.bytes());continue;case 4:if(r===32){s.ttls.push(W(t.int64()));continue}if(r===34){let c=t.uint32()+t.pos;for(;t.pos<c;)s.ttls.push(W(t.int64()));continue}break;case 5:if(r!==40)break;s.createIfMissing=t.bool();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",keys:globalThis.Array.isArray(e==null?void 0:e.keys)?e.keys.map(n=>Buffer.from(S(n))):[],values:globalThis.Array.isArray(e==null?void 0:e.values)?e.values.map(n=>Buffer.from(S(n))):[],ttls:globalThis.Array.isArray(e==null?void 0:e.ttls)?e.ttls.map(n=>globalThis.Number(n)):[],createIfMissing:m(e.createIfMissing)?globalThis.Boolean(e.createIfMissing):!1}},toJSON(e){var t,a,s;let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),(t=e.keys)!=null&&t.length&&(n.keys=e.keys.map(r=>h(r))),(a=e.values)!=null&&a.length&&(n.values=e.values.map(r=>h(r))),(s=e.ttls)!=null&&s.length&&(n.ttls=e.ttls.map(r=>Math.round(r))),e.createIfMissing===!0&&(n.createIfMissing=e.createIfMissing),n},create(e){return K.fromPartial(e!=null?e:{})},fromPartial(e){var t,a,s,r,c;let n=Rt();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.keys=((a=e.keys)==null?void 0:a.map(f=>f))||[],n.values=((s=e.values)==null?void 0:s.map(f=>f))||[],n.ttls=((r=e.ttls)==null?void 0:r.map(f=>f))||[],n.createIfMissing=(c=e.createIfMissing)!=null?c:!1,n}};function yt(){return{responses:[]}}var _e={encode(e,n=u.Writer.create()){for(let t of e.responses)d.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=yt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.responses.push(d.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{responses:globalThis.Array.isArray(e==null?void 0:e.responses)?e.responses.map(n=>d.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.responses)!=null&&t.length&&(n.responses=e.responses.map(a=>d.toJSON(a))),n},create(e){return _e.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=yt();return n.responses=((t=e.responses)==null?void 0:t.map(a=>d.fromPartial(a)))||[],n}};function xt(){return{keyspaceName:"",keys:[]}}var Je={encode(e,n=u.Writer.create()){e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName);for(let t of e.keys)n.uint32(18).bytes(t);return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=xt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.keys.push(t.bytes());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",keys:globalThis.Array.isArray(e==null?void 0:e.keys)?e.keys.map(n=>Buffer.from(S(n))):[]}},toJSON(e){var t;let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),(t=e.keys)!=null&&t.length&&(n.keys=e.keys.map(a=>h(a))),n},create(e){return Je.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=xt();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.keys=((a=e.keys)==null?void 0:a.map(s=>s))||[],n}};function kt(){return{responses:[]}}var Ke={encode(e,n=u.Writer.create()){for(let t of e.responses)d.encode(t,n.uint32(10).fork()).ldelim();return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=kt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.responses.push(d.decode(t,t.uint32()));continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{responses:globalThis.Array.isArray(e==null?void 0:e.responses)?e.responses.map(n=>d.fromJSON(n)):[]}},toJSON(e){var t;let n={};return(t=e.responses)!=null&&t.length&&(n.responses=e.responses.map(a=>d.toJSON(a))),n},create(e){return Ke.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=kt();return n.responses=((t=e.responses)==null?void 0:t.map(a=>d.fromPartial(a)))||[],n}};function qt(){return{keyspaceName:"",keys:[]}}var Ae={encode(e,n=u.Writer.create()){e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName);for(let t of e.keys)n.uint32(18).bytes(t);return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=qt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue;case 2:if(r!==18)break;s.keys.push(t.bytes());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):"",keys:globalThis.Array.isArray(e==null?void 0:e.keys)?e.keys.map(n=>Buffer.from(S(n))):[]}},toJSON(e){var t;let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),(t=e.keys)!=null&&t.length&&(n.keys=e.keys.map(a=>h(a))),n},create(e){return Ae.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=qt();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n.keys=((a=e.keys)==null?void 0:a.map(s=>s))||[],n}};function Ct(){return{responses:[],values:[]}}var Ge={encode(e,n=u.Writer.create()){for(let t of e.responses)d.encode(t,n.uint32(10).fork()).ldelim();for(let t of e.values)n.uint32(18).bytes(t);return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Ct();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.responses.push(d.decode(t,t.uint32()));continue;case 2:if(r!==18)break;s.values.push(t.bytes());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{responses:globalThis.Array.isArray(e==null?void 0:e.responses)?e.responses.map(n=>d.fromJSON(n)):[],values:globalThis.Array.isArray(e==null?void 0:e.values)?e.values.map(n=>Buffer.from(S(n))):[]}},toJSON(e){var t,a;let n={};return(t=e.responses)!=null&&t.length&&(n.responses=e.responses.map(s=>d.toJSON(s))),(a=e.values)!=null&&a.length&&(n.values=e.values.map(s=>h(s))),n},create(e){return Ge.fromPartial(e!=null?e:{})},fromPartial(e){var t,a;let n=Ct();return n.responses=((t=e.responses)==null?void 0:t.map(s=>d.fromPartial(s)))||[],n.values=((a=e.values)==null?void 0:a.map(s=>s))||[],n}};function It(){return{keyspaceName:""}}var We={encode(e,n=u.Writer.create()){return e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=It();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):""}},toJSON(e){let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),n},create(e){return We.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=It();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n}};function Nt(){return{response:void 0}}var Fe={encode(e,n=u.Writer.create()){return e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Nt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0}},toJSON(e){let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),n},create(e){return Fe.fromPartial(e!=null?e:{})},fromPartial(e){let n=Nt();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n}};function St(){return{keyspaceName:""}}var Me={encode(e,n=u.Writer.create()){return e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=St();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):""}},toJSON(e){let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),n},create(e){return Me.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=St();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n}};function ht(){return{response:void 0}}var ze={encode(e,n=u.Writer.create()){return e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=ht();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0}},toJSON(e){let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),n},create(e){return ze.fromPartial(e!=null?e:{})},fromPartial(e){let n=ht();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n}};function Pt(){return{keyspaceName:""}}var be={encode(e,n=u.Writer.create()){return e.keyspaceName!==""&&n.uint32(10).string(e.keyspaceName),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Pt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.keyspaceName=t.string();continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{keyspaceName:m(e.keyspaceName)?globalThis.String(e.keyspaceName):""}},toJSON(e){let n={};return e.keyspaceName!==""&&(n.keyspaceName=e.keyspaceName),n},create(e){return be.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=Pt();return n.keyspaceName=(t=e.keyspaceName)!=null?t:"",n}};function Dt(){return{response:void 0}}var Le={encode(e,n=u.Writer.create()){return e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim(),n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=Dt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0}},toJSON(e){let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),n},create(e){return Le.fromPartial(e!=null?e:{})},fromPartial(e){let n=Dt();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n}};function gt(){return{}}var we={encode(e,n=u.Writer.create()){return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=gt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{}},toJSON(e){return{}},create(e){return we.fromPartial(e!=null?e:{})},fromPartial(e){return gt()}};function vt(){return{response:void 0,keyspaceNames:[]}}var Ve={encode(e,n=u.Writer.create()){e.response!==void 0&&d.encode(e.response,n.uint32(10).fork()).ldelim();for(let t of e.keyspaceNames)n.uint32(18).string(t);return n},decode(e,n){let t=e instanceof u.Reader?e:u.Reader.create(e),a=n===void 0?t.len:t.pos+n,s=vt();for(;t.pos<a;){let r=t.uint32();switch(r>>>3){case 1:if(r!==10)break;s.response=d.decode(t,t.uint32());continue;case 2:if(r!==18)break;s.keyspaceNames.push(t.string());continue}if((r&7)===4||r===0)break;t.skipType(r&7)}return s},fromJSON(e){return{response:m(e.response)?d.fromJSON(e.response):void 0,keyspaceNames:globalThis.Array.isArray(e==null?void 0:e.keyspaceNames)?e.keyspaceNames.map(n=>globalThis.String(n)):[]}},toJSON(e){var t;let n={};return e.response!==void 0&&(n.response=d.toJSON(e.response)),(t=e.keyspaceNames)!=null&&t.length&&(n.keyspaceNames=e.keyspaceNames),n},create(e){return Ve.fromPartial(e!=null?e:{})},fromPartial(e){var t;let n=vt();return n.response=e.response!==void 0&&e.response!==null?d.fromPartial(e.response):void 0,n.keyspaceNames=((t=e.keyspaceNames)==null?void 0:t.map(a=>a))||[],n}},$t={put:{path:"/cognica.rpc.db.kv.KeyValueDBService/put",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(J.encode(e).finish()),requestDeserialize:e=>J.decode(e),responseSerialize:e=>Buffer.from(ge.encode(e).finish()),responseDeserialize:e=>ge.decode(e)},remove:{path:"/cognica.rpc.db.kv.KeyValueDBService/remove",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(ve.encode(e).finish()),requestDeserialize:e=>ve.decode(e),responseSerialize:e=>Buffer.from(Be.encode(e).finish()),responseDeserialize:e=>Be.decode(e)},get:{path:"/cognica.rpc.db.kv.KeyValueDBService/get",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Te.encode(e).finish()),requestDeserialize:e=>Te.decode(e),responseSerialize:e=>Buffer.from(Oe.encode(e).finish()),responseDeserialize:e=>Oe.decode(e)},mget:{path:"/cognica.rpc.db.kv.KeyValueDBService/mget",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Ee.encode(e).finish()),requestDeserialize:e=>Ee.decode(e),responseSerialize:e=>Buffer.from(Ue.encode(e).finish()),responseDeserialize:e=>Ue.decode(e)},putBatch:{path:"/cognica.rpc.db.kv.KeyValueDBService/put_batch",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(K.encode(e).finish()),requestDeserialize:e=>K.decode(e),responseSerialize:e=>Buffer.from(_e.encode(e).finish()),responseDeserialize:e=>_e.decode(e)},removeBatch:{path:"/cognica.rpc.db.kv.KeyValueDBService/remove_batch",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Je.encode(e).finish()),requestDeserialize:e=>Je.decode(e),responseSerialize:e=>Buffer.from(Ke.encode(e).finish()),responseDeserialize:e=>Ke.decode(e)},getBatch:{path:"/cognica.rpc.db.kv.KeyValueDBService/get_batch",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Ae.encode(e).finish()),requestDeserialize:e=>Ae.decode(e),responseSerialize:e=>Buffer.from(Ge.encode(e).finish()),responseDeserialize:e=>Ge.decode(e)}},Tt=Bt($t,"cognica.rpc.db.kv.KeyValueDBService"),Ht={createKeyspace:{path:"/cognica.rpc.db.kv.KeyspaceManagerService/create_keyspace",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(We.encode(e).finish()),requestDeserialize:e=>We.decode(e),responseSerialize:e=>Buffer.from(Fe.encode(e).finish()),responseDeserialize:e=>Fe.decode(e)},dropKeyspace:{path:"/cognica.rpc.db.kv.KeyspaceManagerService/drop_keyspace",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(Me.encode(e).finish()),requestDeserialize:e=>Me.decode(e),responseSerialize:e=>Buffer.from(ze.encode(e).finish()),responseDeserialize:e=>ze.decode(e)},truncateKeyspace:{path:"/cognica.rpc.db.kv.KeyspaceManagerService/truncate_keyspace",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(be.encode(e).finish()),requestDeserialize:e=>be.decode(e),responseSerialize:e=>Buffer.from(Le.encode(e).finish()),responseDeserialize:e=>Le.decode(e)},listKeyspaces:{path:"/cognica.rpc.db.kv.KeyspaceManagerService/list_keyspaces",requestStream:!1,responseStream:!1,requestSerialize:e=>Buffer.from(we.encode(e).finish()),requestDeserialize:e=>we.decode(e),responseSerialize:e=>Buffer.from(Ve.encode(e).finish()),responseDeserialize:e=>Ve.decode(e)}},Ot=Bt(Ht,"cognica.rpc.db.kv.KeyspaceManagerService");function S(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let n=globalThis.atob(e),t=new Uint8Array(n.length);for(let a=0;a<n.length;++a)t[a]=n.charCodeAt(a);return t}}function h(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let n=[];return e.forEach(t=>{n.push(globalThis.String.fromCharCode(t))}),globalThis.btoa(n.join(""))}}function W(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}u.util.Long!==st&&(u.util.Long=st,u.configure());function m(e){return e!=null}var Et=class extends B{constructor(n,t=void 0){let a=new Tt(n.address,n.credential,n.options);super(n,a,t)}get(n,t){let a={keyspaceName:n,key:this.toBuffer(t)};return this.createPromise(a,"get",s=>s.value)}getBatch(n,t){let a={keyspaceName:n,keys:t.map(s=>this.toBuffer(s))};return this.createPromise(a,"getBatch",s=>s.values)}put(n,t,a,s=0,r=!0){let c;return typeof n=="string"?c={keyspaceName:n,key:this.toBuffer(t),value:this.toBuffer(a),ttl:s,createIfMissing:r}:c=J.fromJSON(n),this.createPromise(c,"put",f=>{var x;return((x=f.response)==null?void 0:x.status)==0})}putBatch(n,t,a,s,r=!0){let c;return typeof n=="string"?c={keyspaceName:n,keys:t==null?void 0:t.map(f=>this.toBuffer(f)),values:a==null?void 0:a.map(f=>this.toBuffer(f)),ttls:s||Array(t.length).fill(0),createIfMissing:r}:c=K.fromJSON(n),this.createPromise(c,"putBatch",f=>f.responses.map(x=>x.status==0))}remove(n,t){let a={keyspaceName:n,key:this.toBuffer(t)};return this.createPromise(a,"remove",s=>{var r;return((r=s.response)==null?void 0:r.status)==0})}removeBatch(n,t){let a={keyspaceName:n,keys:t.map(s=>this.toBuffer(s))};return this.createPromise(a,"removeBatch",s=>{var r;return(r=s.responses)==null?void 0:r.map(c=>c.status==0)})}toBuffer(n){return typeof n=="string"?Buffer.from(n,"utf-8"):n}},Ut=class extends B{constructor(n,t=void 0){let a=new Ot(n.address,n.credential,n.options);super(n,a,t)}createKeyspace(n){return this.createPromise({keyspaceName:n},"createKeyspace",t=>{var a;return((a=t.response)==null?void 0:a.status)===0})}listKeyspace(){return this.createPromise({},"listKeyspaces",n=>n.keyspaceNames)}truncateKeyspace(n){return this.createPromise({keyspaceName:n},"truncateKeyspace",t=>{var a;return((a=t.response)==null?void 0:a.status)===0})}dropKeyspace(n){return this.createPromise({keyspaceName:n},"dropKeyspace",t=>{var a;return((a=t.response)==null?void 0:a.status)===0})}};export{je as Channel,rt as DocumentDB,Qt as IndexType,Et as KeyValueDB,Ut as KeyspaceManager,kr as indexStatusFromJSON,xr as indexTypeFromJSON};
